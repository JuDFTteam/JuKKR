#========================================================
 FC = scalasca -instrument -user mpixlf77_r -qsmp=omp
 FC = mpixlf77_r -qsmp=omp
 FFLAGS = -O3 -qipa -qfixed -I/bgsys/local/fftw3/include
 LDFLAGS = -O3 -qipa -L/bgsys/local/lib -lesslbg \
              -I/bgsys/local/fftw3/include -L/bgsys/local/fftw3/lib -lfftw3
#========================================================

#========================================================
# JUROPA
#JO FC = mpif77 -openmp
#JO FFLAGS = -O2 -openmp -I/usr/local/fftw/3.2.1/include
#JO LDFLAGS = -O2 -L/opt/intel/Compiler/11.0/074/mkl/lib/em64t -lmkl -lguide -lmkl_lapack \
#JO              -I/usr/local/fftw/3.2.1/include -L/usr/local/fftw/3.2.1/lib -lfftw3
#========================================================

#========================================================
# MACbook:
#MAC FC = mpif77
#MAC FFLAGS = -O2
#MAC LDFLAGS = -L/usr/local/lib -llapack -lblas
#========================================================

#========================================================
# IFF cluster
#IFF FC =mpif77 -warn
#IFF FFLAGS= -O2 -openmp -fpp -DFPP_OMP
#IFF LDFLAGS=-L/ -llapack_ifort -lblas_ifort
#========================================================



PROGRAM = kr2.exe
SRCS    = sredgm.f       sredgx.f       bessel.f       bcpwupper.f \
	  brydbm.f       brysh1.f       brysh2.f       brysh3.f      \
	  convol.f       corlsd.f       cpw91.f        cylm02.f      \
	  gfree.f        gll95.f        grefsy.f       pnstmat.f \
	  calctmat.f     calcdtmat.f    clsjij.f       tbref.f \
	  dlke0.f        dlke1.f        ebalance.f     eprdistr.f \
	  kkrmat01.f     kkrjij.f       kloopz1.f     \
	  beshan.f       csinwd.f       csout.f        csimpk.f \
	  csum.f         hankel.f       intcor.f       intin.f  \
	  cinit.f        corel.f        cradwf.f  \
	  impi.f         appblckcirc.f \
	  intout.f       irwns.f        irwsol.f    pnsqns.f \
	  mmzutfx.f      mminvmod.f \
	  regns.f        regsol.f       rhoin.f        rhons.f  \
	  results.f      rhoout.f       vllns.f        wfint.f  \
	  wfint0.f       wfmesh.f       wftsca.f   \
	  ecoub.f        emesht.f       epotinb.f      espcb.f       \
	  etotb1.f       exch91.f      \
	  force.f        forceh.f      \
	  forcxc.f       gaufd.f        gauleg.f       gcor91.f      \
	  gaunt2.f       grule.f        madelung3d.f   erfcex.f       \
	  strmat.f       mapblock.f     ioben.f \
	  madelgaunt.f   gamfc.f        lattice3d.f    \
	  ldaudmat.f     ldauinit.f     ldauovrlp.f    ldauphi.f \
	  ldaurcml.f     ldaustart.f    ldauwmat.f \
	  lloyd0.f       pointgrp.f \
	  gradr.f        gradrl.f       gxcpt.f        lebedev.f     \
	  main2.f        mixstr.f       mkxcpe.f       mtzero.f      \
	  opt.f          rcstop.f       rhototb.f      rhomom.f     \
	  prinvit.f      rhocore.f      rhoval.f       rhoval0.f \
	  rinit.f \
	  rites.f        simp3.f        simpk.f        sinwk.f       \
	  soutk.f        spher.f        sphere_gga.f   sphere_nogga.f\
	  sprszmm.f \
	  ssum.f         symjij.f       test.f         trarea.f     \
	  vintras.f      vmadelblk.f    vosko.f        vxcdrv.f      \
	  wrmoms.f       wrldos.f       \
	  vxcgga.f       vxclm.f        vxcspo.f       ymy.f \
	  outtime.f      rmsout.f       xsort.f \
	  xccpljij.f     zrandn.f       zaxpby.f       zutfx.f \
#-----------------------------------------------------------------
OBJS = ${SRCS:.f=.o}
.SUFFIXES: .f
.f.o:
	$(FC) $(FFLAGS) -c $<

OBJS = ${SRCS:.F=.o}
.SUFFIXES: .F
.F.o:
	$(FC) $(FFLAGS) -c $<

$(PROGRAM): $(OBJS)
	$(FC) -o $@ $(OBJS) $(LDFLAGS)

clean:
	rm -f *.o *.mod core 

### DO NOT DELETE OR EDIT THIS LINE
# Everything from here on down is generated by f90depend
# so do NOT add any translation rules below here.

#--- Include-Dependencies

allred.o: inc.p
appblckcirc.o: inc.p inc.cls
bcpwupper.o: inc.p inc.cls
mminvmod.o: inc.p inc.cls
sprszmm.o: inc.p inc.cls
sredgm.o: inc.p
sredgx.o: inc.p
brydbm.o: inc.p
calctmat.o: inc.p
calcdtmat.o: inc.p
ebalance.o: inc.p
eprdistr.o: inc.p
gfree.o: inc.p
gll95.o: inc.p inc.cls
grefsy.o: inc.p inc.cls
pnstmat.o: inc.p
tbref.o: inc.p inc.cls
dlke0.o: inc.p inc.cls
dlke1.o: inc.p inc.cls
kkrmat01.o: inc.p inc.cls
kkrjij.o: inc.p
kloopz1.o: inc.p inc.cls
brysh1.o: inc.p
brysh2.o: inc.p
brysh3.o: inc.p
clsjij.o: inc.p
convol.o: inc.p
cradwf.o: inc.p
ecoub.o: inc.p
epotinb.o: inc.p
espcb.o: inc.p
etotb1.o: inc.p
force.o: inc.p
forceh.o: inc.p
forcxc.o: inc.p
gaunt2.o: inc.p
invit.o: inc.p inc.cls
impi.o: inc.p
ldaudmat.o: inc.p
ldauinit.o: inc.p
ldauphi.o: inc.p
ldaustart.o: inc.p
ldauwmat.o: inc.p
lloyd0.o: inc.p
main2.o: inc.p inc.cls
mixstr.o: inc.p
mminvit.o: inc.p inc.cls
mminvtrc.o: inc.p inc.cls
mmzutfx.o: inc.p
mtzero.o: inc.p
pnsqns.o: inc.p
prinvit.f: inc.p inc.cls
results.o: inc.p
rhomom.o: inc.p
rhototb.o: inc.p
rhocore.o: inc.p
rhoin.o: inc.p
rhons.o: inc.p
rhoout.o: inc.p
rhoval.o: inc.p
rhoval0.o: inc.p
rites.o: inc.p
simpk.o: inc.p
sinwk.o: inc.p
soutk.o: inc.p
symjij.o: inc.p
vintras.o: inc.p
vllns.o: inc.p
vmadelblk.o: inc.p
vxcdrv.o: inc.p
vxcgga.o: inc.p
vxclm.o: inc.p
xccpljij.o: inc.p






#SRAOBJS1c = $(OBJ)/cinit.o     $(OBJ)/csum.o      $(OBJ)/ioben.o \
          $(OBJ)/test.o      $(OBJ)/beshan.o    $(OBJ)/corel.o \
          $(OBJ)/cradwf.o    $(OBJ)/csimpk.o    $(OBJ)/csinwd.o \
          $(OBJ)/csout.o     $(OBJ)/hankel.o    $(OBJ)/intcor.o \
          $(OBJ)/intin.o     $(OBJ)/intout.o    $(OBJ)/irwns.o \
          $(OBJ)/irwsol.o    $(OBJ)/pnsqns.o    \
          $(OBJ)/regns.o     $(OBJ)/regsol.o    $(OBJ)/rhoin.o \
          $(OBJ)/rholm.o     $(OBJ)/rhons.o     $(OBJ)/rhoout.o \
          $(OBJ)/simp3.o     $(OBJ)/vllns.o     $(OBJ)/wfint.o \
          $(OBJ)/wfint0.o    $(OBJ)/wfmesh.o    $(OBJ)/wftsca.o \
          $(OBJ)/rinit.o     $(OBJ)/mapblock.o  $(OBJ)/opt.o    \
          $(OBJ)/ioinput.o   $(OBJ)/renorm_lly.o

SRAOBJS1c =  \
$(OBJ)/corel.o      $(OBJ)/csimpk.o     $(OBJ)/intcor.o     \
$(OBJ)/intin.o      $(OBJ)/intout.o     $(OBJ)/irwns.o      \
$(OBJ)/pnsqns.o     $(OBJ)/rhoin.o      $(OBJ)/rholm.o      \
$(OBJ)/rhons.o      $(OBJ)/rhoout.o     $(OBJ)/renorm_lly.o \
$(OBJ)/simp3.o      

#COMOBJS1c = $(OBJ)/wrldos.o     $(OBJ)/wrmoms.o     $(OBJ)/rhocore.o \
          $(OBJ)/errortrap.o  $(OBJ)/calcrotmat.o $(OBJ)/wrmomssoc.o \
	  $(OBJ)/getscratch.o $(OBJ)/lngstring.o  $(OBJ)/densitymat.o \
          $(OBJ)/wrldaupot.o  $(OBJ)/overlap.o    $(OBJ)/wmatldau.o \
          $(OBJ)/interpolate_poten.o \
          $(OBJ)/interpolspline.o $(OBJ)/spline_real.o $(OBJ)/splint_real.o \
          $(OBJ)/rhoval0.o $(OBJ)/rhovalnew.o  $(OBJ)/vllmat.o     $(OBJ)/cheb.o\
          $(OBJ)/spinorbit_ham.o $(OBJ)/spin_orbit.o $(OBJ)/spin_orbit_compl.o \
          $(OBJ)/rotatespinframe.o $(OBJ)/vllmatsra.o $(OBJ)/beshank.o \
          $(OBJ)/rllsllsourceterms.o $(OBJ)/calcsph.o $(OBJ)/rllsll.o \
          $(OBJ)/chebint.o  $(OBJ)/rhooutnew.o  $(OBJ)/intcheb_cell.o \
          $(OBJ)/cheb2oldgrid.o $(OBJ)/orbitalmoment.o \
          $(OBJ)/rclm.o       $(OBJ)/mixldau.o

COMOBJS1c =   \
$(OBJ)/main1c.o         $(OBJ)/rhoval.o         $(OBJ)/rhoval0.o        \
$(OBJ)/rhocore.o        $(OBJ)/wrldos.o         $(OBJ)/wrmoms.o         \
$(OBJ)/wrmomssoc.o      $(OBJ)/densitymat.o     $(OBJ)/wrldaupot.o      \
$(OBJ)/overlap.o        $(OBJ)/wmatldau.o       $(OBJ)/mixldau.o        \
$(OBJ)/rclm.o           $(OBJ)/rhovalnew.o      $(OBJ)/rhooutnew.o      \
$(OBJ)/intcheb_cell.o   $(OBJ)/cheb2oldgrid.o   $(OBJ)/orbitalmoment.o  


#COMNONMPI1c = $(OBJ)/main1c.o     $(OBJ)/rhoval.o

DRVOBJS1c =   $(OBJ)/drvcore.o    $(OBJ)/drvrho.o

#RELOBJS1c = \
        $(OBJ)/ssite.o    $(OBJ)/rinvgj.o    $(OBJ)/dirac_bs.o   \
        $(OBJ)/dirbslag.o $(OBJ)/dirbsmid.o  $(OBJ)/dirbsrad.o   \
        $(OBJ)/dirbsrze.o $(OBJ)/dirbsstp.o  $(OBJ)/cjlz.o       \
        $(OBJ)/cnlz.o     $(OBJ)/cdjlzdz.o   $(OBJ)/cdnlzdz.o    \
        $(OBJ)/ikapmue.o  $(OBJ)/rnuctab.o   $(OBJ)/dirac_bi.o   \
        $(OBJ)/dirac_op.o $(OBJ)/dirac_soc.o $(OBJ)/dirac_soc2.o \
        $(OBJ)/cintabr.o  $(OBJ)/sumupint.o  $(OBJ)/cinthff.o    \
        $(OBJ)/cint4pts.o $(OBJ)/scfchrdns.o $(OBJ)/calcgf.o     \
        $(OBJ)/calccgc.o  $(OBJ)/ikmlin.o    $(OBJ)/rintsimp.o   \
        $(OBJ)/ylag.o     $(OBJ)/core.o      $(OBJ)/coredir.o    \
	$(OBJ)/hffcore.o  $(OBJ)/corehff.o   $(OBJ)/coreerr.o    \
	$(OBJ)/rint4pts.o $(OBJ)/calcmvec.o  $(OBJ)/amemagvec.o  \
        $(OBJ)/rmatstr.o  $(OBJ)/cmatstr.o   $(OBJ)/mvecglobal.o



RELOBJS1c = \
        $(OBJ)/scfchrdns.o   $(OBJ)/calcgf.o      $(OBJ)/rintsimp.o    \
        $(OBJ)/core.o        $(OBJ)/coredir.o     $(OBJ)/hffcore.o     \
        $(OBJ)/corehff.o     $(OBJ)/coreerr.o     $(OBJ)/rint4pts.o    \
        $(OBJ)/calcmvec.o    $(OBJ)/amemagvec.o   $(OBJ)/rmatstr.o     \
        $(OBJ)/mvecglobal.o  


#PROGOBJS1c = $(COMNONMPI1c) $(COMOBJS1c) $(SRAOBJS1c) $(DRVOBJS1c) $(RELOBJS1c)
PROGOBJS1c = $(COMOBJS1c) $(SRAOBJS1c) $(DRVOBJS1c) $(RELOBJS1c)

###################################################################
# rules expressing dependencies on Fortran files

##################### sources in SRA directory ##########
$(OBJ)/corel.o      : $(SRA)/corel.f                  ; \
                      $(FC) $(FFLAGS) $(SRA)/corel.f -c -o $@

$(OBJ)/csimpk.o     : $(SRA)/csimpk.f                  ; \
                      $(FC) $(FFLAGS) $(SRA)/csimpk.f -c -o $@

$(OBJ)/intcor.o     : $(SRA)/intcor.f                  ; \
                      $(FC) $(FFLAGS) $(SRA)/intcor.f -c -o $@

$(OBJ)/intin.o      : $(SRA)/intin.f                  ; \
                      $(FC) $(FFLAGS) $(SRA)/intin.f -c -o $@

$(OBJ)/intout.o     : $(SRA)/intout.f                  ; \
                      $(FC) $(FFLAGS) $(SRA)/intout.f -c -o $@

$(OBJ)/irwns.o      : $(SRA)/irwns.f                  ; \
                      $(FC) $(FFLAGS) $(SRA)/irwns.f -c -o $@

$(OBJ)/pnsqns.o     : $(SRA)/pnsqns.f $(INCP)          ; \
                      $(FC) $(FFLAGS) $(SRA)/pnsqns.f -c -o $@

$(OBJ)/rhoin.o      : $(SRA)/rhoin.f  $(INCP)          ; \
                      $(FC) $(FFLAGS) $(SRA)/rhoin.f -c -o $@

$(OBJ)/rholm.o      : $(SRA)/rholm.f  $(INCP)          ; \
                      $(FC) $(FFLAGS) $(SRA)/rholm.f -c -o $@

$(OBJ)/rhons.o      : $(SRA)/rhons.F  $(INCP)          ; \
                      $(FC) $(FFLAGS) $(CPP) $(SRA)/rhons.F -c -o $@

$(OBJ)/rhoout.o     : $(SRA)/rhoout.f $(INCP)         ; \
                      $(FC) $(FFLAGS) $(SRA)/rhoout.f -c -o $@

$(OBJ)/renorm_lly.o : $(SRA)/renorm_lly.f             ; \
                      $(FC) $(FFLAGS) $(SRA)/renorm_lly.f -c -o $@

$(OBJ)/simp3.o      : $(SRA)/simp3.f                  ; \
                      $(FC) $(FFLAGS) $(SRA)/simp3.f -c -o $@

##################### sources in COMMON directory ##########

$(OBJ)/main1c.o   : $(COM)/main1c.F  $(INCP) ; \
	            $(FC) $(FFLAGS) $(CPP) $(COM)/main1c.F -c -o $@

$(OBJ)/rhoval.o  : $(COM)/rhoval.F $(INCP)        ; \
	            $(FC) $(FFLAGS) $(CPP) $(COM)/rhoval.F -c -o $@

$(OBJ)/rhoval0.o  : $(COM)/rhoval0.f $(INCP)        ; \
	            $(FC) $(FFLAGS) $(COM)/rhoval0.f -c -o $@

$(OBJ)/rhocore.o  : $(COM)/rhocore.f $(INCP)        ; \
	            $(FC) $(FFLAGS) $(COM)/rhocore.f -c -o $@

$(OBJ)/wrldos.o   : $(COM)/wrldos.f                  ; \
                    $(FC) $(FFLAGS) $(COM)/wrldos.f -c -o $@

$(OBJ)/wrmoms.o   : $(COM)/wrmoms.f                  ; \
                    $(FC) $(FFLAGS) $(COM)/wrmoms.f -c -o $@

$(OBJ)/wrmomssoc.o   : $(COM)/wrmomssoc.f                  ; \
                    $(FC) $(FFLAGS) $(COM)/wrmomssoc.f -c -o $@

$(OBJ)/densitymat.o : $(COM)/densitymat.f  $(INCP)        ;\
                      $(FC) $(FFLAGS) $(COM)/densitymat.f  -c -o $@

$(OBJ)/wrldaupot.o  : $(COM)/wrldaupot.f                  ; \
                    $(FC) $(FFLAGS) $(COM)/wrldaupot.f -c -o $@

$(OBJ)/overlap.o    : $(COM)/overlap.f  $(INCP)        ;\
                     $(FC) $(FFLAGS) $(COM)/overlap.f  -c -o $@

$(OBJ)/wmatldau.o   : $(COM)/wmatldau.f $(INCP)        ;\
                     $(FC) $(FFLAGS) $(COM)/wmatldau.f  -c -o $@

$(OBJ)/mixldau.o    : $(COM)/mixldau.f $(INCP)        ;\
                     $(FC) $(FFLAGS) $(COM)/mixldau.f  -c -o $@
 

$(OBJ)/rclm.o       : $(COM)/rclm.f  $(INCP)        ;\
                     $(FC) $(FFLAGS) $(COM)/rclm.f  -c -o $@

$(OBJ)/rhovalnew.o       : $(COM)/rhovalnew.F  $(INCP)        ;\
                    $(FC) $(FFLAGS) $(OPENMPFLAGS) $(CPP) $(COM)/rhovalnew.F  -c -o $@

$(OBJ)/rhooutnew.o  : $(COM)/rhooutnew.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/rhooutnew.f -c -o $@

$(OBJ)/intcheb_cell.o  : $(COM)/intcheb_cell.f90 $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/intcheb_cell.f90 -c -o $@

$(OBJ)/cheb2oldgrid.o  : $(COM)/cheb2oldgrid.f90 $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/cheb2oldgrid.f90 -c -o $@

$(OBJ)/orbitalmoment.o  : $(COM)/orbitalmoment.f90 $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/orbitalmoment.f90 -c -o $@
############################################################

##################### sources in DRV directory ##########

$(OBJ)/drvrho.o  : $(DRV)/drvrho.f     ; \
	             $(FC) $(FFLAGS) $(DRV)/drvrho.f -c -o $@

$(OBJ)/drvcore.o  : $(DRV)/drvcore.f   ; \
	             $(FC) $(FFLAGS) $(DRV)/drvcore.f -c -o $@

############################################################

##################### sources in REL directory ##########
$(OBJ)/scfchrdns.o   : $(REL)/scfchrdns.f               ; \
                     $(FC) $(FFLAGS) $(REL)/scfchrdns.f -c -o $@

$(OBJ)/calcgf.o      : $(REL)/calcgf.f               ; \
                     $(FC) $(FFLAGS) $(REL)/calcgf.f -c -o $@

$(OBJ)/rintsimp.o    : $(REL)/rintsimp.f               ; \
                     $(FC) $(FFLAGS) $(REL)/rintsimp.f -c -o $@

$(OBJ)/core.o        : $(REL)/core.f      ; \
                     $(FC) $(FFLAGS) $(REL)/core.f -c -o $@

$(OBJ)/coredir.o     : $(REL)/coredir.f   ; \
                     $(FC) $(FFLAGS) $(REL)/coredir.f -c -o $@

$(OBJ)/hffcore.o     : $(REL)/hffcore.f   ; \
                     $(FC) $(FFLAGS) $(REL)/hffcore.f -c -o $@

$(OBJ)/corehff.o     : $(REL)/corehff.f   ; \
                     $(FC) $(FFLAGS) $(REL)/corehff.f  -c -o $@

$(OBJ)/coreerr.o     : $(REL)/coreerr.f   ; \
                     $(FC) $(FFLAGS) $(REL)/coreerr.f  -c -o $@ 

$(OBJ)/rint4pts.o    : $(REL)/rint4pts.f  ; \
                     $(FC) $(FFLAGS) $(REL)/rint4pts.f -c -o $@

$(OBJ)/calcmvec.o    : $(REL)/calcmvec.f  ; \
                     $(FC) $(FFLAGS) $(REL)/calcmvec.f -c -o $@

$(OBJ)/amemagvec.o   : $(REL)/amemagvec.f  ; \
                     $(FC) $(FFLAGS) $(REL)/amemagvec.f -c -o $@

$(OBJ)/rmatstr.o     : $(REL)/rmatstr.f                ; \
	             $(FC) $(FFLAGS) $(REL)/rmatstr.f -c -o $@

$(OBJ)/mvecglobal.o  : $(REL)/mvecglobal.f                  ; \
	             $(FC) $(FFLAGS) $(REL)/mvecglobal.f -c -o $@

############################################################

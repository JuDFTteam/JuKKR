
#SRAOBJS1b = $(OBJ)/bofm.o          $(OBJ)/btom.o      $(OBJ)/cinit.o \
          $(OBJ)/beshan.o        $(OBJ)/dlke0.o     $(OBJ)/dlke1.o \
          $(OBJ)/inversion.o     $(OBJ)/invslab.o                  \
          $(OBJ)/invsupercell.o  $(OBJ)/ioinput.o   $(OBJ)/ioben.o    \
          $(OBJ)/mapblock.o      $(OBJ)/opt.o       $(OBJ)/rcstop.o  \
          $(OBJ)/surfgf.o        $(OBJ)/test.o      $(OBJ)/ymy.o \
          $(OBJ)/grefsy.o \

SRAOBJS1b = \
$(OBJ)/bofm.o         $(OBJ)/btom.o         $(OBJ)/dclock.o       \
$(OBJ)/dlke0.o        $(OBJ)/dlke1.o        $(OBJ)/inversion.o    \
$(OBJ)/invslab.o      $(OBJ)/invsupercell.o $(OBJ)/surfgf.o       

#SRANONMPI1b = $(OBJ)/dclock.o

#COMOBJS1b = \
          $(OBJ)/kloopz1.o      $(OBJ)/decimate.o \
          $(OBJ)/projtau.o      $(OBJ)/cpamillsx.o   $(OBJ)/rotate.o \
          $(OBJ)/getdmat.o      $(OBJ)/mssinit.o     $(OBJ)/rotgll.o \
          $(OBJ)/tbxccpljij.o   $(OBJ)/calctref.o    $(OBJ)/cmatmul.o \
          $(OBJ)/initabjij.o    $(OBJ)/setfactl.o    $(OBJ)/gijdmat.o \
          $(OBJ)/rotatespinframe.o \
	  $(OBJ)/symetrmat.o    $(OBJ)/getscratch.o  $(OBJ)/lngstring.o 

COMOBJS1b = \
          $(OBJ)/main1b.o   \
          $(OBJ)/kloopz1.o  $(OBJ)/mssinit.o  $(OBJ)/kkrmat01.o \
          $(OBJ)/decimate.o $(OBJ)/rotgll.o   $(OBJ)/tbxccpljij.o \
          $(OBJ)/cmatmul.o    $(OBJ)/initabjij.o  $(OBJ)/setfactl.o   \
          $(OBJ)/gijdmat.o    $(OBJ)/symetrmat.o  $(OBJ)/projtau.o    \
          $(OBJ)/cpamillsx.o  $(OBJ)/rotate.o     $(OBJ)/getdmat.o    

############################################################
#COMNONMPI1b = $(OBJ)/main1b.o     $(OBJ)/kkrmat01.o     

#MPIOBJ1b = $(OBJ)/mpimain1b.o $(OBJ)/mpikkrmat01.o $(OBJ)/mpidclock.o

#RELOBJS1b = $(OBJ)/changerep.o     $(OBJ)/cmatstr.o

PROGOBJS1b = $(COMOBJS1b)  $(SRAOBJS1b)  #$(COMNONMPI1b) $(SRAOBJS1b) $(SRANONMPI1b) $(RELOBJS1b)

###################################################################
# rules expressing dependencies on Fortran files

##################### sources in SRA directory ##########
$(OBJ)/bofm.o         : $(SRA)/bofm.f                     ; \
                       $(FC) $(FFLAGS)  $(SRA)/bofm.f -c -o $@

$(OBJ)/btom.o         : $(SRA)/btom.f                     ; \
                       $(FC) $(FFLAGS)  $(SRA)/btom.f -c -o $@

$(OBJ)/dclock.o       : $(SRA)/dclock.f                   ; \
                       $(FC) $(FFLAGS)  $(SRA)/dclock.f -c -o $@

$(OBJ)/dlke0.o        : $(SRA)/dlke0.f  $(INCP)    ; \
                       $(FC) $(FFLAGS)  $(SRA)/dlke0.f -c -o $@

$(OBJ)/dlke1.o        : $(SRA)/dlke1.f  $(INCP)    ; \
                       $(FC) $(FFLAGS)  $(SRA)/dlke1.f -c -o $@

$(OBJ)/inversion.o    : $(SRA)/inversion.f $(INCP)        ; \
                       $(FC) $(FFLAGS)  $(SRA)/inversion.f -c -o $@

$(OBJ)/invslab.o      : $(SRA)/invslab.f   $(INCP)        ; \
                       $(FC) $(FFLAGS)  $(SRA)/invslab.f -c -o $@

$(OBJ)/invsupercell.o : $(SRA)/invsupercell.f $(INCP)     ; \
                       $(FC) $(FFLAGS)  $(SRA)/invsupercell.f -c -o $@

$(OBJ)/surfgf.o       : $(SRA)/surfgf.f $(INCP)           ; \
                       $(FC) $(FFLAGS)  $(SRA)/surfgf.f -c -o $@

############################################################

##################### sources in COMMON directory ##########

$(OBJ)/main1b.o   : $(COM)/main1b.F  $(INCP) ; \
	            $(FC) $(FFLAGS) $(CPP) $(COM)/main1b.F -c -o $@

$(OBJ)/kloopz1.o  : $(COM)/kloopz1.f  $(INCP)  ; \
                    $(FC) $(FFLAGS)  $(COM)/kloopz1.f -c -o $@

$(OBJ)/mssinit.o  : $(COM)/mssinit.f                  ; \
                    $(FC) $(FFLAGS)  $(COM)/mssinit.f -c -o $@

$(OBJ)/kkrmat01.o : $(COM)/kkrmat01.f $(INCP)  ; \
                    $(FC) $(FFLAGS)  $(COM)/kkrmat01.f -c -o $@

$(OBJ)/decimate.o     : $(COM)/decimate.f $(INCP)  ; \
                       $(FC) $(FFLAGS)  $(COM)/decimate.f -c -o $@

$(OBJ)/rotgll.o       : $(COM)/rotgll.f                    ; \
                       $(FC) $(FFLAGS)  $(COM)/rotgll.f -c -o $@

$(OBJ)/tbxccpljij.o : $(COM)/tbxccpljij.f               ; \
                    $(FC) $(FFLAGS)   $(COM)/tbxccpljij.f -c -o $@

$(OBJ)/cmatmul.o    : $(COM)/cmatmul.f                  ; \
                    $(FC) $(FFLAGS)   $(COM)/cmatmul.f -c -o $@

$(OBJ)/initabjij.o   : $(COM)/initabjij.f               ; \
                    $(FC) $(FFLAGS)   $(COM)/initabjij.f -c -o $@

$(OBJ)/setfactl.o    : $(COM)/setfactl.f               ; \
                    $(FC) $(FFLAGS)   $(COM)/setfactl.f -c -o $@

$(OBJ)/gijdmat.o     : $(COM)/gijdmat.f               ; \
                    $(FC) $(FFLAGS)   $(COM)/gijdmat.f -c -o $@

$(OBJ)/symetrmat.o   : $(COM)/symetrmat.f             ; \
                    $(FC) $(FFLAGS)   $(COM)/symetrmat.f -c -o $@

#################### sources in COM directory stemming ########
#################### from Munich SPR-KKR program       ########

$(OBJ)/projtau.o    : $(COM)/projtau.f                  ; \
                    $(FC) $(FFLAGS)  $(COM)/projtau.f -c -o $@

$(OBJ)/cpamillsx.o  : $(COM)/cpamillsx.f                  ; \
                    $(FC) $(FFLAGS)  $(COM)/cpamillsx.f -c -o $@

$(OBJ)/rotate.o     : $(COM)/rotate.f                  ; \
                    $(FC) $(FFLAGS)  $(COM)/rotate.f -c -o $@

$(OBJ)/getdmat.o    : $(COM)/getdmat.f                  ; \
                    $(FC) $(FFLAGS)  $(COM)/getdmat.f -c -o $@

############################################################

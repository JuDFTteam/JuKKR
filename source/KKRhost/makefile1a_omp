
#SRAOBJS1a = \
       $(OBJ)/beshan.o   $(OBJ)/cinit.o    $(OBJ)/csum.o     \
       $(OBJ)/gfree.o    $(OBJ)/regns.o    $(OBJ)/regsol.o   \
       $(OBJ)/gll95.o    $(OBJ)/grefsy.o   $(OBJ)/ioben.o    \
       $(OBJ)/mapblock.o $(OBJ)/rcstop.o   $(OBJ)/test.o     \
       $(OBJ)/ymy.o      $(OBJ)/cradwf.o   $(OBJ)/csinwd.o   \
       $(OBJ)/csout.o    $(OBJ)/hankel.o   $(OBJ)/irwsol.o   \
       $(OBJ)/wfint.o    $(OBJ)/wfint0.o   $(OBJ)/ioinput.o  \
       $(OBJ)/wfmesh.o   $(OBJ)/wftsca.o   $(OBJ)/rinit.o    \
       $(OBJ)/pnstmat.o  $(OBJ)/vllns.o    $(OBJ)/opt.o      \
       $(OBJ)/simpk.o    $(OBJ)/soutk.o    $(OBJ)/ssum.o

SRAOBJS1a = \
       $(OBJ)/csum.o     $(OBJ)/gfree.o    $(OBJ)/gll95.o    \
       $(OBJ)/grefsy.o   $(OBJ)/ioben.o    $(OBJ)/mapblock.o \
       $(OBJ)/cradwf.o   $(OBJ)/csinwd.o   $(OBJ)/csout.o    \
       $(OBJ)/hankel.o   $(OBJ)/irwsol.o   $(OBJ)/regns.o    \
       $(OBJ)/tbref.o    $(OBJ)/wfint.o    $(OBJ)/wfint0.o   \
       $(OBJ)/wftsca.o   $(OBJ)/pnstmat.o  $(OBJ)/vllns.o    \
       $(OBJ)/simpk.o    $(OBJ)/soutk.o    $(OBJ)/ssum.o     
                  

#COMOBJS1a = $(OBJ)/main1a.o     $(OBJ)/calctmat.o  $(OBJ)/calctref.o \
          $(OBJ)/getscratch.o $(OBJ)/lngstring.o $(OBJ)/initldau.o \
          $(OBJ)/phicalc.o    $(OBJ)/tmat_newsolver.o \
          $(OBJ)/vllmat.o     $(OBJ)/cheb.o $(OBJ)/interpolate_poten.o \
          $(OBJ)/interpolspline.o $(OBJ)/spline_real.o $(OBJ)/splint_real.o \
          $(OBJ)/spinorbit_ham.o $(OBJ)/spin_orbit.o $(OBJ)/spin_orbit_compl.o \
          $(OBJ)/rotatespinframe.o $(OBJ)/vllmatsra.o $(OBJ)/beshank.o \
          $(OBJ)/rllsllsourceterms.o $(OBJ)/calcsph.o $(OBJ)/rllsll.o \
          $(OBJ)/chebint.o \

COMOBJS1a = \
        $(OBJ)/main1a.o             $(OBJ)/calctmat.o        $(OBJ)/initldau.o \
        $(OBJ)/phicalc.o            $(OBJ)/tmat_newsolver.o  $(OBJ)/cheb.o  \
        $(OBJ)/interpolate_poten.o  $(OBJ)/vllmat.o          $(OBJ)/rotatespinframe.o  \
        $(OBJ)/spinorbit_ham.o      $(OBJ)/spin_orbit.o      $(OBJ)/spin_orbit_compl.o  \
        $(OBJ)/vllmatsra.o          $(OBJ)/beshank.o         $(OBJ)/rllsllsourceterms.o  \
        $(OBJ)/calcsph.o            $(OBJ)/rllsll.o          $(OBJ)/chebint.o 

#DRVOBJS1a = $(OBJ)/drvreltmat.o  

#RELOBJS1a = \
        $(OBJ)/ssite.o    $(OBJ)/rinvgj.o    $(OBJ)/dirac_bs.o   \
        $(OBJ)/dirbslag.o $(OBJ)/dirbsmid.o  $(OBJ)/dirbsrad.o   \
        $(OBJ)/dirbsrze.o $(OBJ)/dirbsstp.o  $(OBJ)/cjlz.o       \
        $(OBJ)/cnlz.o     $(OBJ)/cdjlzdz.o   $(OBJ)/cdnlzdz.o    \
        $(OBJ)/ikapmue.o  $(OBJ)/rnuctab.o   $(OBJ)/dirac_bi.o   \
        $(OBJ)/dirac_op.o $(OBJ)/dirac_soc.o $(OBJ)/dirac_soc2.o \
        $(OBJ)/cintabr.o  $(OBJ)/sumupint.o  $(OBJ)/cinthff.o    \
        $(OBJ)/cint4pts.o $(OBJ)/calccgc.o   $(OBJ)/ikmlin.o     \
        $(OBJ)/ylag.o     $(OBJ)/cmatstr.o

PROGOBJS1a = $(COMOBJS1a) $(SRAOBJS1a) #$(SRANONMPI1a) $(DRVOBJS1a) $(RELOBJS1a) 


###################################################################
# rules expressing dependencies on Fortran files


##################### sources in SRA directory ##########

$(OBJ)/csum.o     : $(SRA)/csum.f                   ; \
	              $(FC) $(FFLAGS) $(SRA)/csum.f -c -o $@

$(OBJ)/gfree.o    : $(SRA)/gfree.f  $(INCP)         ; \
	              $(FC) $(FFLAGS) $(SRA)/gfree.f -c -o $@

$(OBJ)/gll95.o    : $(SRA)/gll95.f $(INCP)   ; \
	              $(FC) $(FFLAGS) $(SRA)/gll95.f  -c -o $@

$(OBJ)/grefsy.o   : $(SRA)/grefsy.f                 ; \
	              $(FC) $(FFLAGS) $(SRA)/grefsy.f -c -o $@

$(OBJ)/ioben.o    : $(SRA)/ioben.f                  ; \
	              $(FC) $(FFLAGS) $(SRA)/ioben.f -c -o $@

$(OBJ)/mapblock.o : $(SRA)/mapblock.f               ; \
	              $(FC) $(FFLAGS) $(SRA)/mapblock.f -c -o $@

$(OBJ)/cradwf.o   : $(SRA)/cradwf.f $(INCP)         ; \
	            $(FC) $(FFLAGS) $(SRA)/cradwf.f -c -o $@

$(OBJ)/csinwd.o   : $(SRA)/csinwd.f                 ; \
	            $(FC) $(FFLAGS) $(SRA)/csinwd.f -c -o $@

$(OBJ)/csout.o    : $(SRA)/csout.f                  ; \
	            $(FC) $(FFLAGS) $(SRA)/csout.f -c -o $@

$(OBJ)/hankel.o   : $(SRA)/hankel.f                 ; \
	            $(FC) $(FFLAGS) $(SRA)/hankel.f -c -o $@

$(OBJ)/irwsol.o   : $(SRA)/irwsol.f                  ; \
	            $(FC) $(FFLAGS) $(SRA)/irwsol.f -c -o $@

$(OBJ)/regns.o    : $(SRA)/regns.f                    ; \
	            $(FC) $(FFLAGS) $(SRA)/regns.f -c -o $@

$(OBJ)/tbref.o    : $(SRA)/tbref.F $(INCP)   ; \
	              $(FC) $(FFLAGS) $(CPP) $(SRA)/tbref.F -c -o $@

$(OBJ)/wfint.o    : $(SRA)/wfint.f                    ; \
	            $(FC) $(FFLAGS) $(SRA)/wfint.f -c -o $@

$(OBJ)/wfint0.o   : $(SRA)/wfint0.f                   ; \
	            $(FC) $(FFLAGS) $(SRA)/wfint0.f -c -o $@

$(OBJ)/wftsca.o   : $(SRA)/wftsca.f                   ; \
	            $(FC) $(FFLAGS) $(SRA)/wftsca.f -c -o $@

$(OBJ)/pnstmat.o  : $(SRA)/pnstmat.f $(INCP)          ; \
	            $(FC) $(FFLAGS) $(SRA)/pnstmat.f -c -o $@

$(OBJ)/vllns.o    : $(SRA)/vllns.f  $(INCP)           ; \
	            $(FC) $(FFLAGS) $(SRA)/vllns.f -c -o $@

$(OBJ)/simpk.o     : $(SRA)/simpk.f                 ; \
                        $(FC) $(FFLAGS) $(SRA)/simpk.f -c -o $@

$(OBJ)/soutk.o     : $(SRA)/soutk.f                 ; \
                        $(FC) $(FFLAGS) $(SRA)/soutk.f -c -o $@

$(OBJ)/ssum.o         : $(SRA)/ssum.f                       ; \
                         $(FC) $(FFLAGS) $(SRA)/ssum.f -c -o $@

############################################################

##################### sources in COMMON directory ##########

$(OBJ)/main1a.o   : $(COM)/main1a.F  $(INCP) ; \
	            $(FC) $(FFLAGS) $(CPP)  $(COM)/main1a.F -c -o $@

$(OBJ)/calctmat.o  : $(COM)/calctmat.F $(INCP)        ; \
	            $(FC) $(FFLAGS) $(CPP) $(COM)/calctmat.F -c -o $@

$(OBJ)/initldau.o  : $(COM)/initldau.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/initldau.f -c -o $@

$(OBJ)/phicalc.o  : $(COM)/phicalc.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/phicalc.f -c -o $@

$(OBJ)/tmat_newsolver.o  : $(COM)/tmat_newsolver.F $(INCP)        ; \
                    $(FC) $(FFLAGS) $(OPENMPFLAGS) $(CPP) $(COM)/tmat_newsolver.F -c -o $@

%.o: $(SOURCEDIR)/%.F
	$(FC) -c $(FFLAGS) $(CPP)  $<

$(OBJ)/cheb.o  : $(COM)/cheb.f90 $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/cheb.f90 -c -o $@

$(OBJ)/interpolate_poten.o  : $(COM)/interpolate_poten.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/interpolate_poten.f -c -o $@

$(OBJ)/vllmat.o  : $(COM)/vllmat.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/vllmat.f -c -o $@

$(OBJ)/rotatespinframe.o  : $(COM)/rotatespinframe.f90    ; \
                    $(FC) $(FFLAGS) $(COM)/rotatespinframe.f90 -c -o $@

$(OBJ)/spinorbit_ham.o  : $(COM)/spinorbit_ham.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(OPENMPFLAGS) $(COM)/spinorbit_ham.f -c -o $@

$(OBJ)/spin_orbit.o  : $(COM)/spin_orbit.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(OPENMPFLAGS) $(COM)/spin_orbit.f -c -o $@

$(OBJ)/spin_orbit_compl.o  : $(COM)/spin_orbit_compl.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(OPENMPFLAGS) $(COM)/spin_orbit_compl.f -c -o $@

$(OBJ)/vllmatsra.o  : $(COM)/vllmatsra.f90 $(INCP)        ; \
                    $(FC) $(FFLAGS) $(OPENMPFLAGS) $(COM)/vllmatsra.f90 -c -o $@

$(OBJ)/beshank.o  : $(COM)/beshank.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/beshank.f -c -o $@

$(OBJ)/rllsllsourceterms.o  : $(COM)/rllsllsourceterms.f90 $(INCP)        ; \
                    $(FC) $(FFLAGS) $(OPENMPFLAGS) $(COM)/rllsllsourceterms.f90 -c -o $@

$(OBJ)/calcsph.o  : $(COM)/calcsph.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(OPENMPFLAGS) $(COM)/calcsph.f -c -o $@

$(OBJ)/rllsll.o  : $(COM)/rllsll.f90 $(INCP)        ; \
                    $(FC) $(FFLAGS) $(OPENMPFLAGS) $(COM)/rllsll.f90 -c -o $@

$(OBJ)/chebint.o  : $(COM)/chebint.f $(INCP)        ; \
                    $(FC) $(FFLAGS) $(COM)/chebint.f -c -o $@

############################################################
